<html>
    <head>
        <title>
            Library input
        </title>
        <link rel="stylesheet" href="css/input.css"> 
    </head>
    <body>
        <nav>
            <div class="nav-home">
                <a href="index.html">Home</a>
            </div>
        </nav>
        <h1>
            Submit your album
        </h1>
        <div class="input">
            <div>
                <input type="text" id="name" placeholder="Song Name"/>
            </div>

            <div>
                <input type="text" id="artist" placeholder="Artist Name"/>
            </div>
            
            <div>
                <input type="text" id="link" placeholder="Song link"/>
            </div>
            
            <label for ="image">Album Image</label>
            <div>
                <input type="file" id="image" accept="image/*" placeholder="Song image"/>
            </div>

        </div>
        <div >
            <button id="submit_button">Submit</button>
        </div>
        <div>
            <button id="reset_button">Reset all songs</button>
        </div>
        <script>
            songcount = 0;
            document.addEventListener('DOMContentLoaded', () => {
                const ImageInput = document.getElementById('image');
                const LinkInput = document.getElementById('link');
                const ArtistInput = document.getElementById('artist');
                const NameInput = document.getElementById('name');
                const SubmitButton = document.getElementById('submit_button');
                SubmitButton.addEventListener('click', () => {
                    if (ImageInput.value === '' || LinkInput.value === '' || ArtistInput.value === '' || NameInput.value === '') {
                        alert('Please fill in all fields before submitting.');
                    } else {
                        localStorage.setItem('imagePath' + songcount, ImageInput.value);
                        localStorage.setItem('linkPath' + songcount, LinkInput.value);
                        localStorage.setItem('artistName' + songcount, ArtistInput.value);
                        localStorage.setItem('songName' + songcount, NameInput.value);
                        ImageInput.value = '';
                        LinkInput.value = '';
                        ArtistInput.value = '';
                        NameInput.value = '';
                        alert('Song submitted!');
                        alert('linkPath' + songcount + ': ' + localStorage.getItem('linkPath' + songcount));
                        songcount = songcount + 1;
                        alert(songcount + ' songs submitted so far!');

                    }
                });
                const ResetButton = document.getElementById('reset_button');
                ResetButton.addEventListener('click', () => {
                    localStorage.clear();
                    songcount = 0;
                    alert('All songs have been reset.');
                });
            });
        </script>
    </body>
</html>
