<html>
    <head>
        <title>
            Library input
        </title>
        <link rel="stylesheet" href="css/input.css"> 
    </head>
    <body>
        <div id="spinning-thingy" onclick="window.open('index.html')">
        <img src = "css/VinylBG2_noBG.png" width="90" height="90">
        </div>
        <h1>
            Submit your album
        </h1>

        <div class="input">
            <div>
                <input type="text" id="name" placeholder="Album Name"/>
            </div>

            <div>
                <input type="text" id="artist" placeholder="Artist Name"/>
            </div>
            
            <div>
                <input type="text" id="link" placeholder="Album link"/>
            </div>
        </div>

        <div >
            <button id="submit_button">Submit</button>
        </div>

        <div>
            <button id="reset_button">Reset all albums</button>
        </div>

        <div id="arrow1">
            <img src="css/red_arrow.png" alt="Red Arrow pointing to submit button" width="200" height="100">
        </div>

        <div id="arrow2">
            <img src="css/red_arrow.png" alt="Red Arrow pointing to submit button" width="200" height="100">
        </div>

        <div id="arrow3">
            <img src="css/red_arrow.png" alt="Red Arrow pointing to submit button" width="200" height="100">
        </div>

        <script>
            albumcount = Number(localStorage.getItem('albumCount')) || 0;
            document.addEventListener('DOMContentLoaded', () => {
                const LinkInput = document.getElementById('link');
                const ArtistInput = document.getElementById('artist');
                const NameInput = document.getElementById('name');
                const SubmitButton = document.getElementById('submit_button');
                SubmitButton.addEventListener('click', () => {
                    if (LinkInput.value === '' || ArtistInput.value === '' || NameInput.value === '') {
                        alert('Please fill in all fields before submitting.');
                    } else {
                        albumcount = albumcount + 1;
                        localStorage.setItem('linkPath' + albumcount, LinkInput.value);
                        localStorage.setItem('artistName' + albumcount, ArtistInput.value);
                        localStorage.setItem('albumName' + albumcount, NameInput.value);
                        LinkInput.value = '';
                        ArtistInput.value = '';
                        NameInput.value = '';
                        alert('album submitted!');
                      //alert('linkPath' + albumcount + ': ' + localStorage.getItem('linkPath' + albumcount));
                      //alert(albumcount + ' albums submitted so far!');
                        localStorage.setItem('albumCount', albumcount);
                    }
                });
                const ResetButton = document.getElementById('reset_button');
                ResetButton.addEventListener('click', () => {
                    localStorage.clear();
                    albumcount = 0;
                    alert('All albums have been reset.');
                });
            });
        </script>
    </body>
</html>
